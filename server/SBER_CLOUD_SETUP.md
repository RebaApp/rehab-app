# üè¶ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –†–ï–ë–ê –Ω–∞ –°–±–µ—Ä–±–∞–Ω–∫ –û–±–ª–∞–∫–æ

## üìã –ß–¢–û –ù–£–ñ–ù–û –°–î–ï–õ–ê–¢–¨:

### 1. üñ•Ô∏è –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–ï –ö –°–ï–†–í–ï–†–£

**1.1. –ü–æ–ª—É—á–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:**
- IP –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞: `–≤–∞—à-ip-–∞–¥—Ä–µ—Å`
- –õ–æ–≥–∏–Ω: `root` –∏–ª–∏ `ubuntu`
- –ü–∞—Ä–æ–ª—å: `–≤–∞—à-–ø–∞—Ä–æ–ª—å`

**1.2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É:**
```bash
# –ù–∞ Mac/Linux
ssh root@–≤–∞—à-ip-–∞–¥—Ä–µ—Å

# –ù–∞ Windows (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ PuTTY –∏–ª–∏ Windows Terminal)
ssh root@–≤–∞—à-ip-–∞–¥—Ä–µ—Å
```

### 2. üìÅ –ó–ê–ì–†–£–ó–ö–ê –§–ê–ô–õ–û–í

**2.1. –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**
```bash
mkdir -p /home/root/reba-server
cd /home/root/reba-server
```

**2.2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞:**
–ï—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–±–æ–≤:

**–°–ø–æ—Å–æ–± –ê: –ß–µ—Ä–µ–∑ SCP (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**
```bash
# –ù–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
scp -r /Users/a1/Downloads/rehab/server/* root@–≤–∞—à-ip-–∞–¥—Ä–µ—Å:/home/root/reba-server/
```

**–°–ø–æ—Å–æ–± –ë: –ß–µ—Ä–µ–∑ Git (–µ—Å–ª–∏ –µ—Å—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π)**
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
git clone https://github.com/–≤–∞—à-username/reba.git
cd reba/server
```

**–°–ø–æ—Å–æ–± –í: –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –°–±–µ—Ä–±–∞–Ω–∫ –û–±–ª–∞–∫–æ**
- –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª—ã —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –†–∞—Å–ø–∞–∫—É–π—Ç–µ –∞—Ä—Ö–∏–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### 3. üöÄ –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–û–ï –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–ï

**3.1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:**
```bash
cd /home/root/reba-server
chmod +x deploy.sh
./deploy.sh
```

**3.2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
```bash
nano .env
```

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `.env`:
```env
DATABASE_URL="postgresql://reba_user:reba_password_2024@postgres:5432/reba_db?schema=public"
JWT_SECRET="–≤–∞—à-—Å—É–ø–µ—Ä-—Å–µ–∫—Ä–µ—Ç–Ω—ã–π-–∫–ª—é—á-–∏–∑–º–µ–Ω–∏—Ç–µ-–≤-–ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ"
JWT_EXPIRES_IN="7d"
PORT=3001
NODE_ENV="production"
CORS_ORIGIN="*"
```

### 4. üîß –†–£–ß–ù–û–ï –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–ï (–µ—Å–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–æ)

**4.1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Docker:**
```bash
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh
sudo usermod -aG docker $USER
```

**4.2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Docker Compose:**
```bash
sudo curl -L "https://github.com/docker/compose/releases/download/v2.20.0/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose
```

**4.3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã:**
```bash
docker-compose up -d
```

**4.4. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:**
```bash
# –ñ–¥–µ–º –∑–∞–ø—É—Å–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
sleep 30

# –ü—Ä–∏–º–µ–Ω—è–µ–º –º–∏–≥—Ä–∞—Ü–∏–∏
docker-compose exec api npx prisma migrate dev

# –ó–∞–ø–æ–ª–Ω—è–µ–º —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
docker-compose exec api npm run seed
```

### 5. ‚úÖ –ü–†–û–í–ï–†–ö–ê –†–ê–ë–û–¢–´

**5.1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤:**
```bash
docker-compose ps
```

–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:
```
NAME                IMAGE               STATUS
reba_postgres       postgres:15-alpine  Up
reba_api            reba-backend        Up
reba_nginx          nginx:alpine        Up
```

**5.2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API:**
```bash
curl http://localhost:3001/health
```

–î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å:
```json
{
  "status": "OK",
  "timestamp": "2024-01-01T00:00:00.000Z",
  "uptime": 123.456
}
```

**5.3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∏–∑–≤–Ω–µ:**
```bash
curl http://–≤–∞—à-ip-–∞–¥—Ä–µ—Å:3001/health
```

### 6. üåê –ù–ê–°–¢–†–û–ô–ö–ê –î–û–ú–ï–ù–ê (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**6.1. –ö—É–ø–∏—Ç–µ –¥–æ–º–µ–Ω** (–Ω–∞–ø—Ä–∏–º–µ—Ä, reba-app.ru)

**6.2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ DNS:**
- A –∑–∞–ø–∏—Å—å: `reba-app.ru` ‚Üí `–≤–∞—à-ip-–∞–¥—Ä–µ—Å`
- A –∑–∞–ø–∏—Å—å: `api.reba-app.ru` ‚Üí `–≤–∞—à-ip-–∞–¥—Ä–µ—Å`

**6.3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç:**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Certbot
sudo apt install certbot

# –ü–æ–ª—É—á–∏—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
sudo certbot certonly --standalone -d reba-app.ru -d api.reba-app.ru
```

### 7. üì± –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –° –ü–†–ò–õ–û–ñ–ï–ù–ò–ï–ú

**7.1. –û–±–Ω–æ–≤–∏—Ç–µ URL API –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏:**
–ó–∞–º–µ–Ω–∏—Ç–µ `http://localhost:3001` –Ω–∞ `http://–≤–∞—à-ip-–∞–¥—Ä–µ—Å:3001`

**7.2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ Expo Go
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é/–≤—Ö–æ–¥
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≥—Ä—É–∑–∫—É —Ü–µ–Ω—Ç—Ä–æ–≤

## üÜò –†–ï–®–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú

### –ü—Ä–æ–±–ª–µ–º–∞: "Docker –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω"
```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Å—Å–∏—é SSH
exit
ssh root@–≤–∞—à-ip-–∞–¥—Ä–µ—Å
# –ò–ª–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
sudo reboot
```

### –ü—Ä–æ–±–ª–µ–º–∞: "–ü–æ—Ä—Ç 3001 –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω"
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã
docker-compose ps

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
docker-compose logs api
```

### –ü—Ä–æ–±–ª–µ–º–∞: "–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è"
```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
docker-compose restart postgres

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
docker-compose logs postgres
```

## üìû –ü–û–î–î–ï–†–ñ–ö–ê

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker-compose logs`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å: `docker-compose ps`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ: `docker-compose restart`
4. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∑–∞ –ø–æ–º–æ—â—å—é —Å –ª–æ–≥–∞–º–∏ –æ—à–∏–±–æ–∫
